<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>هيئة دبي الرقمية | بوابة دفع الخدمات</title>
  
  <!-- الخطوط -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- أيقونات Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    :root {
      --primary: #0F4C81;
      --primary-light: #1a6cb0;
      --primary-dark: #0a3a62;
      --secondary: #00A79D;
      --secondary-light: #00c4b8;
      --accent: #FF6B6B;
      --accent-light: #ff8e8e;
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #1e293b;
      --text-light: #64748b;
      --text-lighter: #94a3b8;
      --border: #e2e8f0;
      --border-light: #f1f5f9;
      --shadow: 0 10px 25px rgba(2, 8, 23, 0.08);
      --shadow-hover: 0 20px 40px rgba(2, 8, 23, 0.12);
      --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.05);
      --radius: 20px;
      --radius-sm: 12px;
      --radius-lg: 30px;
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Tajawal', system-ui, Arial;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }

    .container {
      width: min(1200px, 92%);
      margin: auto;
    }

    /* رأس الصفحة */
    .site-header {
      background: var(--card);
      box-shadow: var(--shadow-card);
      position: sticky;
      top: 0;
      z-index: 1000;
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.95);
    }

    .site-header .wrap {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 15px 0;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 800;
      color: var(--primary);
      font-size: 1.3rem;
      text-decoration: none;
      transition: var(--transition);
    }

    .brand:hover {
      color: var(--primary-light);
    }

    .brand img {
      height: 42px;
      transition: var(--transition);
    }

    .brand:hover img {
      transform: scale(1.05);
    }

    .nav-links {
      display: flex;
      gap: 30px;
    }

    .nav-link {
      color: var(--text);
      text-decoration: none;
      font-weight: 600;
      position: relative;
      transition: var(--transition);
    }

    .nav-link:hover {
      color: var(--primary);
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -5px;
      right: 0;
      width: 0;
      height: 2px;
      background: var(--primary);
      transition: var(--transition);
    }

    .nav-link:hover::after {
      width: 100%;
    }

    .nav-toggle {
      display: none;
      all: unset;
      cursor: pointer;
      font-size: 24px;
      color: var(--primary);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .nav-toggle:hover {
      background: rgba(15, 76, 129, 0.1);
    }

    /* قسم البطل */
    .hero {
      padding: 120px 0 100px;
      background: linear-gradient(135deg, #e6f4ff 0%, #f0f9ff 100%);
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%230F4C81' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
      opacity: 0.5;
    }

    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 650px;
    }

    .hero h1 {
      margin: 0 0 1.5rem;
      font-size: clamp(32px, 5vw, 52px);
      color: var(--primary);
      font-weight: 800;
      line-height: 1.2;
    }

    .hero p {
      margin: 0 0 2.5rem;
      color: var(--text-light);
      font-size: 1.2rem;
      max-width: 90%;
    }

    .hero-buttons {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 16px 32px;
      border-radius: var(--radius-sm);
      font-weight: 700;
      font-size: 1rem;
      text-decoration: none;
      transition: var(--transition);
      cursor: pointer;
      border: none;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      box-shadow: 0 4px 12px rgba(15, 76, 129, 0.3);
    }

    .btn-primary:hover {
      background: var(--primary-light);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(15, 76, 129, 0.4);
    }

    .btn-secondary {
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-secondary:hover {
      background: rgba(15, 76, 129, 0.05);
      transform: translateY(-3px);
    }

    .hero-stats {
      display: flex;
      gap: 3rem;
      margin-top: 3rem;
      flex-wrap: wrap;
    }

    .stat {
      display: flex;
      flex-direction: column;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 800;
      color: var(--primary);
      line-height: 1;
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--text-light);
      margin-top: 5px;
    }

    /* قسم النموذج */
    .form-section {
      padding: 100px 0;
      position: relative;
    }

    .section-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    .section-header h2 {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 1rem;
      position: relative;
      display: inline-block;
    }

    .section-header h2::after {
      content: '';
      position: absolute;
      bottom: -10px;
      right: 50%;
      transform: translateX(50%);
      width: 80px;
      height: 4px;
      background: var(--secondary);
      border-radius: 2px;
    }

    .section-header p {
      color: var(--text-light);
      max-width: 600px;
      margin: 0 auto;
      font-size: 1.1rem;
    }

    .form-card {
      background: var(--card);
      padding: 50px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .form-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--secondary), var(--primary));
    }

    .form-card:hover {
      box-shadow: var(--shadow-hover);
    }

    .form-header {
      margin-bottom: 2.5rem;
      text-align: center;
    }

    .form-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      border-radius: 50%;
      margin-bottom: 1.5rem;
      color: white;
      font-size: 2rem;
      box-shadow: 0 8px 20px rgba(15, 76, 129, 0.3);
    }

    .form-header h2 {
      font-size: 2rem;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }

    .form-header p {
      color: var(--text-light);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;
    }

    .field {
      display: flex;
      flex-direction: column;
    }

    .field.col-2 {
      grid-column: 1 / -1;
    }

    label {
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 5px;
    }

    label.required::after {
      content: "*";
      color: var(--accent);
    }

    .input-wrapper {
      position: relative;
    }

    input, select, textarea {
      width: 100%;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 16px 20px;
      background: #fff;
      font-size: 16px;
      font-family: 'Tajawal', sans-serif;
      transition: var(--transition);
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(15, 76, 129, 0.1);
    }

    .input-icon {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-light);
    }

    .amount-wrap {
      display: flex;
      gap: 15px;
    }

    .amount-wrap select {
      max-width: 140px;
    }

    .error {
      color: var(--accent);
      font-size: 0.875rem;
      height: 20px;
      margin-top: 8px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .actions {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-top: 30px;
      padding-top: 30px;
      border-top: 1px solid var(--border-light);
    }

    .btn-submit {
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: white;
      padding: 16px 36px;
      font-weight: 700;
      font-size: 1.1rem;
      border-radius: var(--radius-sm);
      border: none;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 4px 12px rgba(15, 76, 129, 0.3);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .btn-submit:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(15, 76, 129, 0.4);
    }

    .btn-reset {
      background: transparent;
      color: var(--text-light);
      border: 1px solid var(--border);
      padding: 16px 28px;
      font-weight: 600;
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-reset:hover {
      background: rgba(100, 116, 139, 0.05);
      color: var(--text);
    }

    .status {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      margin-right: auto;
    }

    .status.success {
      color: #10b981;
    }

    .status.error {
      color: var(--accent);
    }

    /* قسم الميزات */
    .features-section {
      padding: 100px 0;
      background: #f1f5f9;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .feature-card {
      background: var(--card);
      padding: 40px 30px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      transition: var(--transition);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--secondary), var(--primary));
    }

    .feature-card:hover {
      transform: translateY(-10px);
      box-shadow: var(--shadow-hover);
    }

    .feature-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 80px;
      height: 80px;
      background: rgba(15, 76, 129, 0.1);
      border-radius: 50%;
      margin-bottom: 1.5rem;
      color: var(--primary);
      font-size: 2rem;
      transition: var(--transition);
    }

    .feature-card:hover .feature-icon {
      background: var(--primary);
      color: white;
      transform: scale(1.1);
    }

    .feature-card h3 {
      margin-bottom: 1rem;
      color: var(--primary);
      font-size: 1.5rem;
    }

    .feature-card p {
      color: var(--text-light);
    }

    /* قسم العملية */
    .process-section {
      padding: 100px 0;
    }

    .process-steps {
      display: flex;
      justify-content: space-between;
      position: relative;
      margin-top: 50px;
    }

    .process-steps::before {
      content: '';
      position: absolute;
      top: 40px;
      right: 0;
      width: 100%;
      height: 2px;
      background: var(--border);
      z-index: 1;
    }

    .process-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      position: relative;
      z-index: 2;
      flex: 1;
    }

    .step-number {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: var(--card);
      border: 2px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--text-light);
      margin-bottom: 20px;
      transition: var(--transition);
    }

    .process-step.active .step-number {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .step-title {
      font-weight: 700;
      color: var(--text);
      margin-bottom: 10px;
    }

    .step-desc {
      color: var(--text-light);
      max-width: 200px;
    }

    /* التذييل */
    footer {
      padding: 60px 0 30px;
      background: var(--primary-dark);
      color: white;
    }

    .footer-content {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 40px;
      margin-bottom: 40px;
    }

    .footer-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 800;
      font-size: 1.5rem;
      margin-bottom: 20px;
    }

    .footer-logo img {
      height: 40px;
    }

    .footer-about p {
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: 20px;
    }

    .social-links {
      display: flex;
      gap: 15px;
    }

    .social-link {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      text-decoration: none;
      transition: var(--transition);
    }

    .social-link:hover {
      background: var(--secondary);
      transform: translateY(-3px);
    }

    .footer-heading {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 10px;
    }

    .footer-heading::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 40px;
      height: 2px;
      background: var(--secondary);
    }

    .footer-links {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .footer-links a {
      color: rgba(255, 255, 255, 0.7);
      text-decoration: none;
      transition: var(--transition);
    }

    .footer-links a:hover {
      color: white;
      padding-right: 5px;
    }

    .copyright {
      text-align: center;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.5);
      font-size: 0.9rem;
    }

    /* Honeypot */
    .hp {
      position: absolute;
      left: -9999px;
      opacity: 0;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .footer-content {
        grid-template-columns: 1fr 1fr;
        gap: 40px 30px;
      }
      
      .process-steps {
        flex-direction: column;
        gap: 40px;
      }
      
      .process-steps::before {
        display: none;
      }
    }

    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .nav-toggle {
        display: flex;
      }
      
      .grid {
        grid-template-columns: 1fr;
      }
      
      .hero-stats {
        flex-direction: column;
        gap: 1.5rem;
      }
      
      .form-card {
        padding: 30px 20px;
      }
      
      .actions {
        flex-direction: column;
        align-items: stretch;
      }
      
      .btn-submit, .btn-reset {
        justify-content: center;
      }
      
      .footer-content {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- رأس الصفحة -->
  <header class="site-header">
    <div class="container wrap">
      <a href="#" class="brand">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Digital_Dubai_logo.svg/320px-Digital_Dubai_logo.svg.png" alt="Digital Dubai">
        <span>هيئة دبي الرقمية</span>
      </a>
      
      <nav class="nav-links">
        <a href="#" class="nav-link">الرئيسية</a>
        <a href="#" class="nav-link">الخدمات</a>
        <a href="#" class="nav-link">المدفوعات</a>
        <a href="#" class="nav-link">المساعدة</a>
        <a href="#" class="nav-link">اتصل بنا</a>
      </nav>
      
      <button class="nav-toggle" aria-label="القائمة">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </header>

  <main>
    <!-- بطل الصفحة -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <h1>بوابة دفع الخدمات الرقمية</h1>
          <p>منصة موحدة لسداد جميع الخدمات الحكومية والرقمية في دبي بكل سهولة وأمان. اختبر مستقبل المدفوعات الرقمية معنا.</p>
          
          <div class="hero-buttons">
            <a href="#payment-form" class="btn btn-primary">
              <i class="fas fa-credit-card"></i>
              ابدأ الدفع الآن
            </a>
            <a href="#" class="btn btn-secondary">
              <i class="fas fa-play-circle"></i>
              شاهد الفيديو التعريفي
            </a>
          </div>
          
          <div class="hero-stats">
            <div class="stat">
              <span class="stat-value">+500</span>
              <span class="stat-label">خدمة رقمية</span>
            </div>
            <div class="stat">
              <span class="stat-value">+2M</span>
              <span class="stat-label">معاملة سنوية</span>
            </div>
            <div class="stat">
              <span class="stat-value">99.8%</span>
              <span class="stat-label">رضا العملاء</span>
            </div>
            <div class="stat">
              <span class="stat-value">24/7</span>
              <span class="stat-label">دعم فني</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- قسم الميزات -->
    <section class="features-section">
      <div class="container">
        <div class="section-header">
          <h2>مميزات المنصة</h2>
          <p>اكتشف لماذا تختار الملايين منصة دبي الرقمية لمعاملاتهم المالية</p>
        </div>
        
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <h3>دفع آمن</h3>
            <p>جميع معاملات الدفع محمية بأحدث تقنيات التشفير لضمان أمن معلوماتك وبياناتك المالية.</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-bolt"></i>
            </div>
            <h3>معالجة فورية</h3>
            <p>معالجة فورية للمعاملات مع تأكيد فوري لإتمام عملية الدفع والخدمة في وقت قياسي.</p>
          </div>
          
          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-headset"></i>
            </div>
            <h3>دعم فني متكامل</h3>
            <p>فريق دعم فني متاح على مدار الساعة لمساعدتك في أي استفسار أو مشكلة تواجهك.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- قسم العملية -->
    <section class="process-section">
      <div class="container">
        <div class="section-header">
          <h2>كيفية الاستخدام</h2>
          <p>خطوات بسيطة لإتمام معاملتك المالية بكل سهولة</p>
        </div>
        
        <div class="process-steps">
          <div class="process-step active">
            <div class="step-number">1</div>
            <h4 class="step-title">اختر الخدمة</h4>
            <p class="step-desc">اختر الفئة والخدمة المطلوبة من القوائم المنسدلة</p>
          </div>
          
          <div class="process-step">
            <div class="step-number">2</div>
            <h4 class="step-title">أدخل البيانات</h4>
            <p class="step-desc">أدخل رقم المرجع وقيمة المبلغ والمعلومات المطلوبة</p>
          </div>
          
          <div class="process-step">
            <div class="step-number">3</div>
            <h4 class="step-title">اكمل الدفع</h4>
            <p class="step-desc">استكمل عملية الدفع عبر بوابة الدفع الإلكتروني الآمنة</p>
          </div>
          
          <div class="process-step">
            <div class="step-number">4</div>
            <h4 class="step-title">احصل على التأكيد</h4>
            <p class="step-desc">استلم تأكيد المعاملة عبر البريد الإلكتروني والرسائل النصية</p>
          </div>
        </div>
      </div>
    </section>

    <!-- النموذج -->
    <section class="form-section" id="payment-form">
      <div class="container">
        <div class="form-card">
          <div class="form-header">
            <div class="form-icon">
              <i class="fas fa-credit-card"></i>
            </div>
            <h2>سداد رسوم الخدمة</h2>
            <p>املأ النموذج أدناه لإتمام عملية الدفع بكل سهولة وأمان</p>
          </div>

          <form id="serviceForm" novalidate>
            <!-- honeypot ضد السبام -->
            <input type="text" id="hp_field" name="website" autocomplete="off" tabindex="-1" class="hp" aria-hidden="true" />

            <div class="grid">
              <div class="field">
                <label for="refNo" class="required">رقم السداد / رقم الخدمة</label>
                <div class="input-wrapper">
                  <input id="refNo" name="refNo" inputmode="numeric" pattern="\d+" required placeholder="مثال: 123456" />
                  <i class="fas fa-hashtag input-icon"></i>
                </div>
                <small class="error" data-for="refNo"></small>
              </div>

              <div class="field">
                <label for="category" class="required">اختر الفئة</label>
                <div class="input-wrapper">
                  <select id="category" name="category" required>
                    <option value="" selected disabled>أختر الفئة</option>
                  </select>
                  <i class="fas fa-list input-icon"></i>
                </div>
                <small class="error" data-for="category"></small>
              </div>

              <div class="field">
                <label for="service" class="required">اختر الخدمة</label>
                <div class="input-wrapper">
                  <select id="service" name="service" required disabled>
                    <option value="" selected disabled>—</option>
                  </select>
                  <i class="fas fa-cogs input-icon"></i>
                </div>
                <small class="error" data-for="service"></small>
              </div>

              <div class="field">
                <label for="amount" class="required">أدخل قيمة الرسوم</label>
                <div class="amount-wrap">
                  <div class="input-wrapper" style="flex: 1;">
                    <input id="amount" name="amount" inputmode="decimal" required placeholder="0.00" />
                    <i class="fas fa-money-bill-wave input-icon"></i>
                  </div>
                  <select id="currency" name="currency" aria-label="العملة">
                    <option value="AED" selected>AED</option>
                    <option value="USD">USD</option>
                    <option value="SAR">SAR</option>
                  </select>
                </div>
                <small class="error" data-for="amount"></small>
              </div>

              <div class="field col-2">
                <label for="note">ملاحظات (اختياري)</label>
                <div class="input-wrapper">
                  <textarea id="note" name="note" rows="3" placeholder="تفاصيل إضافية حول الخدمة أو طلب خاص"></textarea>
                </div>
              </div>
            </div>

            <div class="actions">
              <button type="submit" class="btn-submit">
                <i class="fas fa-paper-plane"></i>
                ابدأ عملية الدفع
              </button>
              <button type="reset" class="btn-reset">
                <i class="fas fa-redo"></i>
                إعادة تعيين
              </button>
              <span id="status" class="status" role="status" aria-live="polite"></span>
            </div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-about">
          <div class="footer-logo">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Digital_Dubai_logo.svg/320px-Digital_Dubai_logo.svg.png" alt="Digital Dubai">
            <span>هيئة دبي الرقمية</span>
          </div>
          <p>نعمل على تحويل دبي إلى المدينة الأذكى والأسعد في العالم من خلال تمكين التحول الرقمي الشامل وتقديم خدمات رقمية متميزة.</p>
          <div class="social-links">
            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
            <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
        
        <div class="footer-links-group">
          <h3 class="footer-heading">روابط سريعة</h3>
          <div class="footer-links">
            <a href="#">الرئيسية</a>
            <a href="#">الخدمات</a>
            <a href="#">المدفوعات</a>
            <a href="#">المساعدة</a>
            <a href="#">اتصل بنا</a>
          </div>
        </div>
        
        <div class="footer-links-group">
          <h3 class="footer-heading">الخدمات</h3>
          <div class="footer-links">
            <a href="#">خدمات حكومية</a>
            <a href="#">التجارة والصناعة</a>
            <a href="#">الإقامة والهوية</a>
            <a href="#">خدمات أخرى</a>
            <a href="#">جميع الخدمات</a>
          </div>
        </div>
        
        <div class="footer-links-group">
          <h3 class="footer-heading">الدعم</h3>
          <div class="footer-links">
            <a href="#">الأسئلة الشائعة</a>
            <a href="#">الدعم الفني</a>
            <a href="#">الشكاوى والمقترحات</a>
            <a href="#">سياسة الخصوصية</a>
            <a href="#">شروط الاستخدام</a>
          </div>
        </div>
      </div>
      
      <div class="copyright">
        <p>© جميع الحقوق محفوظة 2024 هيئة دبي الرقمية | منصة موحدة لجميع المدفوعات الرقمية</p>
      </div>
    </div>
  </footer>

  <script>
    // ===== بيانات الفئات والخدمات (مثال) =====
    const CATEGORIES = {
      "خدمات حكومية": [
        "سداد الزكاة",
        "سداد فواتير المياه والكهرباء",
        "الغرامات المرورية",
        "رسوم الخدمات البلدية",
        "الرسوم القضائية"
      ],
      "التجارة والصناعة": [
        "تجديد رخصة تجارية",
        "حجز اسم تجاري",
        "رسوم السجل التجاري",
        "تراخيص النشاط الصناعي"
      ],
      "الإقامة والهوية": [
        "تجديد إقامة",
        "إصدار تأشيرة",
        "تجديد جواز السفر",
        "رسوم الهوية الإماراتية"
      ],
      "خدمات أخرى": [
        "شهادة لمن يهمه الأمر",
        "دعم الشؤون البيئية",
        "رسوم الخدمات الصحية",
        "الاشتراكات الثقافية"
      ]
    };

    const form = document.getElementById('serviceForm');
    const category = document.getElementById('category');
    const service = document.getElementById('service');
    const statusEl = document.getElementById('status');

    // تعبئة الفئات
    window.addEventListener('DOMContentLoaded', () => {
      Object.keys(CATEGORIES).forEach(cat => {
        const opt = document.createElement('option');
        opt.value = cat; opt.textContent = cat; category.appendChild(opt);
      });
      
      // تفعيل خطوات العملية
      activateProcessStep(1);
    });

    // تعبئة الخدمات حسب الفئة
    category.addEventListener('change', () => {
      service.innerHTML = '<option value="" selected disabled>—</option>';
      service.disabled = false;
      (CATEGORIES[category.value] || []).forEach(s => {
        const opt = document.createElement('option');
        opt.value = s; opt.textContent = s; service.appendChild(opt);
      });
      
      activateProcessStep(2);
    });

    // تفعيل خطوة في عملية الاستخدام
    function activateProcessStep(stepNumber) {
      document.querySelectorAll('.process-step').forEach((step, index) => {
        if (index < stepNumber) {
          step.classList.add('active');
        } else {
          step.classList.remove('active');
        }
      });
    }

    function setError(id, msg){
      const errorEl = document.querySelector(`.error[data-for="${id}"]`);
      if (msg) {
        errorEl.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${msg}`;
      } else {
        errorEl.textContent = '';
      }
    }
    
    function validAmount(v){ 
      return /^\d+(?:[.,]\d{1,2})?$/.test(v); 
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // honeypot
      if (document.getElementById('hp_field').value) return;

      const refNo = document.getElementById('refNo').value.trim();
      const amount = document.getElementById('amount').value.trim();
      const currency = document.getElementById('currency').value;
      const note = document.getElementById('note').value.trim();

      let ok = true;
      if(!/^[0-9]{3,}$/.test(refNo)){ 
        setError('refNo','رقم صالح من 3 خانات فأكثر'); 
        ok=false; 
      } else setError('refNo');
      
      if(!category.value){ 
        setError('category','اختر الفئة'); 
        ok=false; 
      } else setError('category');
      
      if(!service.value){ 
        setError('service','اختر الخدمة'); 
        ok=false; 
      } else setError('service');
      
      if(!validAmount(amount)){ 
        setError('amount','قيمة غير صالحة'); 
        ok=false; 
      } else setError('amount');
      
      if(!ok) return;

      const payload = {
        refNo, category: category.value, service: service.value,
        amount, currency, note
      };

      statusEl.textContent = 'جاري الإرسال...';
      statusEl.className = 'status';

      try{
        // حدّد المسار بناءً على منصة النشر:
        let endpoint = '/api/submit';
        if (location.hostname.includes('netlify')) endpoint = '/.netlify/functions/submit';

        const res = await fetch(endpoint, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify(payload)
        });

        const data = await res.json();
        if(!res.ok) throw new Error(data.message || 'فشل الإرسال');

        statusEl.textContent = 'تم الإرسال بنجاح ✔️';
        statusEl.className = 'status success';
        form.reset(); 
        service.disabled = true;
        activateProcessStep(1);
        
        // إعادة تعيين النموذج بعد 3 ثوان
        setTimeout(() => {
          statusEl.textContent = '';
        }, 3000);
      }catch(err){
        console.error(err);
        statusEl.textContent = 'تعذر الإرسال. حاول لاحقًا.';
        statusEl.className = 'status error';
      }
    });

    // إضافة تأثيرات للعناصر عند التركيز
    document.querySelectorAll('input, select, textarea').forEach(el => {
      el.addEventListener('focus', function() {
        this.parentElement.classList.add('focused');
      });
      
      el.addEventListener('blur', function() {
        this.parentElement.classList.remove('focused');
      });
    });
  </script>
</body>
</html>
